[
  {
    "objectID": "relatorio_estatistica.html",
    "href": "relatorio_estatistica.html",
    "title": "Regressão Linear Múltipla",
    "section": "",
    "text": "# Setup para o relatório Quarto\n\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)\n\n# Definindo o espelho do CRAN\noptions(repos = c(CRAN = \"https://cloud.r-project.org/\"))"
  },
  {
    "objectID": "relatorio_estatistica.html#análise-exploratória-dos-dados",
    "href": "relatorio_estatistica.html#análise-exploratória-dos-dados",
    "title": "Regressão Linear Múltipla",
    "section": "2.1 Análise exploratória dos dados",
    "text": "2.1 Análise exploratória dos dados\n\nlibrary(skimr)\n\ndados &lt;- Carseats\n\nskim(dados)\n\n\nData summary\n\n\nName\ndados\n\n\nNumber of rows\n400\n\n\nNumber of columns\n11\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nfactor\n3\n\n\nnumeric\n8\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nShelveLoc\n0\n1\nFALSE\n3\nMed: 219, Bad: 96, Goo: 85\n\n\nUrban\n0\n1\nFALSE\n2\nYes: 282, No: 118\n\n\nUS\n0\n1\nFALSE\n2\nYes: 258, No: 142\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nSales\n0\n1\n7.50\n2.82\n0\n5.39\n7.49\n9.32\n16.27\n▁▆▇▃▁\n\n\nCompPrice\n0\n1\n124.97\n15.33\n77\n115.00\n125.00\n135.00\n175.00\n▁▅▇▃▁\n\n\nIncome\n0\n1\n68.66\n27.99\n21\n42.75\n69.00\n91.00\n120.00\n▇▆▇▆▅\n\n\nAdvertising\n0\n1\n6.64\n6.65\n0\n0.00\n5.00\n12.00\n29.00\n▇▃▃▁▁\n\n\nPopulation\n0\n1\n264.84\n147.38\n10\n139.00\n272.00\n398.50\n509.00\n▇▇▇▇▇\n\n\nPrice\n0\n1\n115.80\n23.68\n24\n100.00\n117.00\n131.00\n191.00\n▁▂▇▆▁\n\n\nAge\n0\n1\n53.32\n16.20\n25\n39.75\n54.50\n66.00\n80.00\n▇▆▇▇▇\n\n\nEducation\n0\n1\n13.90\n2.62\n10\n12.00\n14.00\n16.00\n18.00\n▇▇▃▇▇\n\n\n\n\n\n\n2.1.1 Comentários:\nDe acordo com a tabela é possível observar que não há ausência de dados. # INCOMPLETO\n\n\n2.1.2 Análise de Correlação\n\ninstall.packages(\"GGally\", quite=TRUE)\n\npackage 'GGally' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\Notebook\\AppData\\Local\\Temp\\RtmpcRdVQz\\downloaded_packages\n\nlibrary(GGally)# Pacote para função ggpairs\nlibrary(ggplot2)\nlibrary(reshape2)\nlibrary(corrplot)\n\n\nhead(Carseats)\n\n  Sales CompPrice Income Advertising Population Price ShelveLoc Age Education\n1  9.50       138     73          11        276   120       Bad  42        17\n2 11.22       111     48          16        260    83      Good  65        10\n3 10.06       113     35          10        269    80    Medium  59        12\n4  7.40       117    100           4        466    97    Medium  55        14\n5  4.15       141     64           3        340   128       Bad  38        13\n6 10.81       124    113          13        501    72       Bad  78        16\n  Urban  US\n1   Yes Yes\n2   Yes Yes\n3   Yes Yes\n4   Yes Yes\n5   Yes  No\n6    No Yes\n\ncarseats_numeric &lt;- Carseats[, sapply(Carseats, is.numeric)]\ncor_matrix &lt;- cor(carseats_numeric)\nprint(cor_matrix)\n\n                  Sales   CompPrice       Income  Advertising   Population\nSales        1.00000000  0.06407873  0.151950979  0.269506781  0.050470984\nCompPrice    0.06407873  1.00000000 -0.080653423 -0.024198788 -0.094706516\nIncome       0.15195098 -0.08065342  1.000000000  0.058994706 -0.007876994\nAdvertising  0.26950678 -0.02419879  0.058994706  1.000000000  0.265652145\nPopulation   0.05047098 -0.09470652 -0.007876994  0.265652145  1.000000000\nPrice       -0.44495073  0.58484777 -0.056698202  0.044536874 -0.012143620\nAge         -0.23181544 -0.10023882 -0.004670094 -0.004557497 -0.042663355\nEducation   -0.05195524  0.02519705 -0.056855422 -0.033594307 -0.106378231\n                  Price          Age    Education\nSales       -0.44495073 -0.231815440 -0.051955242\nCompPrice    0.58484777 -0.100238817  0.025197050\nIncome      -0.05669820 -0.004670094 -0.056855422\nAdvertising  0.04453687 -0.004557497 -0.033594307\nPopulation  -0.01214362 -0.042663355 -0.106378231\nPrice        1.00000000 -0.102176839  0.011746599\nAge         -0.10217684  1.000000000  0.006488032\nEducation    0.01174660  0.006488032  1.000000000\n\ncor_melted &lt;- melt(cor_matrix)\n\nggplot(cor_melted, aes(Var1, Var2, fill = value)) +\n  geom_tile() +\n  scale_fill_gradient2(low = \"blue\", high = \"red\", mid = \"white\", \n                       midpoint = 0, limit = c(-1, 1), space = \"Lab\", \n                       name = \"Correlação\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1)) +\n  labs(x = \"\", y = \"\")\n\n\n\n\n\n\n\ncorrplot(cor_matrix, method = \"color\", type = \"upper\", \n         tl.col = \"black\", tl.srt = 45, \n         col = colorRampPalette(c(\"blue\", \"white\", \"red\"))(200))\n\n\n\n\n\n\n\n### Multicolinearidade: r &gt; 0.9 (ou 0.8)\n\n#graf1 &lt;- ggpairs(dados, columns = c(\"Sales\", \"CompPrice\", \"Income\", \"Advertising\", \"Population\", \"Price\", \"Age\", \"Education\"),                   ggplot2::aes(colour=ShelveLoc))\n\n#graf1\n\n\ngraf1 &lt;- ggpairs(dados, \n                 columns = c(\"Sales\", \"CompPrice\", \"Income\", \"Advertising\", \"Population\", \"Price\", \"Age\", \"Education\"), \n                 ggplot2::aes(colour=ShelveLoc), \n                 upper = list(continuous = wrap(\"cor\", size = 3)), # Reduzindo o tamanho das correlações\n                 lower = list(continuous = \"points\")) +            # Exibe os pontos na parte inferior\n  theme_minimal() +                                              # Tema minimalista\n  theme(axis.text = element_text(size = 8),                      # Ajusta o tamanho do texto nos eixos\n        legend.position = \"bottom\",                              # Move a legenda para baixo\n        strip.text = element_text(size = 10))    \n\ngraf1\n\n\n\n\n\n\n\n# Salvando o gráfico em .jpeg\nggsave(\"Grafico_dispersao_carseats.jpeg\")\n\n\n2.1.2.1 Comentários\n#Ajustando o modelo de regressão linear múltipla #modelo &lt;- lm(Sales ~ CompPrice + Income + Advertising + Population + Price + Age + Education, data = dados) #summary(modelo) # Resumo do modelo#### Multicolinearidade - Analisando o VIF - Variance Inflation Factor\nUma maneira de identificar a multicolinearidade é através do Fator de Inflação da Variância (VIF).\nO VIF é calculado para cada preditor fazendo uma regressão linear desse preditor em todos os outros preditores e, então, obtendo o \\(R^2\\) dessa regressão. O VIF é apenas \\(1/(1-R^2)\\).\nComo interpretar o VIF?\n\n\nUm valor maior que 5 indica correlação potencialmente grave entre uma determinada variável preditora e outras variáveis preditoras no modelo. Nesse caso, as estimativas de coeficiente e os valores de p na saída da regressão provavelmente não são confiáveis.\n\n\nVIF &gt; 10 indica problema de multicolinearidade.\n\n \nVeja abaixo como obter o vif usando o R, desconsiderando a variável Sales no modelo inicial.\nO problema da multicolinearidade não pode ser maior que 0,8/0,9\n\n# Ajuste do modelo de regressão linear múltiplo\nmodelo1 &lt;- lm(Sales ~ CompPrice + Income + Advertising + Population + Price + ShelveLoc + Age + Education + Urban + US, data = dados)\n\n#modelo2 &lt;- update(modelo, ~ . -Species)\n#summary(regres)\n\n# Uma opção para obter o: Variance Inflation Factor (VIF)\nlibrary(car) \n\nvif(modelo1)\n\n                GVIF Df GVIF^(1/(2*Df))\nCompPrice   1.554618  1        1.246843\nIncome      1.024731  1        1.012290\nAdvertising 2.103136  1        1.450219\nPopulation  1.145534  1        1.070296\nPrice       1.537068  1        1.239785\nShelveLoc   1.033891  2        1.008367\nAge         1.021051  1        1.010471\nEducation   1.026342  1        1.013086\nUrban       1.022705  1        1.011289\nUS          1.980720  1        1.407380\n\n### Multicolinearidade: VIF &gt; 10\n\np valor é grande? quem é h0? Ho é o modelo completo e H1 modelo sem H0 os modelos são equivalentes H1 modelo completo difere do sem a variável"
  }
]